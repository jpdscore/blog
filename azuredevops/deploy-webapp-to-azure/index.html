<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Azure App Service に色々な方法で WebApp をデプロイしてみよう！ | Japan Developer Support Core Team Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="こんにちは、Japan Developer Support Core チームです。  今日は、色々な方法でMicrosoft Azure (以降、Azure) のAzure App Service (以降、AppService) にWebアプリ (以降、WebApp) をデプロイして楽しんでみましょう。  メジャーどころをピックアップしてみましたよ。  選り取り見取りです。   Azure ポータ">
<meta property="og:type" content="article">
<meta property="og:title" content="Azure App Service に色々な方法で WebApp をデプロイしてみよう！">
<meta property="og:url" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/index.html">
<meta property="og:site_name" content="Japan Developer Support Core Team Blog">
<meta property="og:description" content="こんにちは、Japan Developer Support Core チームです。  今日は、色々な方法でMicrosoft Azure (以降、Azure) のAzure App Service (以降、AppService) にWebアプリ (以降、WebApp) をデプロイして楽しんでみましょう。  メジャーどころをピックアップしてみましたよ。  選り取り見取りです。   Azure ポータ">
<meta property="og:locale" content="ja_JP">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/1.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/2.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/3.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/4.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/5.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/6.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/7.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/8.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/9.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/10.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/11.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/12.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/13.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/14.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/15.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/16.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/17.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/20.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/21.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/22.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/23.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/18.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/19.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/24.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/25.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/26.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/27.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/28.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/29.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/30.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/31.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/32.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/33.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/34.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/35.png">
<meta property="og:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/36.png">
<meta property="article:published_time" content="2020-09-29T12:46:00.000Z">
<meta property="article:modified_time" content="2020-10-30T08:32:17.922Z">
<meta property="article:author" content="Developer Support Core Japan">
<meta property="article:tag" content="ALM">
<meta property="article:tag" content="Azure Pipelines">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/1.png">
  
    <link rel="alternate" href="../../blog/atom.xml" title="Japan Developer Support Core Team Blog" type="application/atom+xml">
  

  <link rel="icon" href="./favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="./apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="./favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="./favicon-16x16.png">
  <link rel="manifest" href="./site.webmanifest">
  <link rel="mask-icon" href="./safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="theme-color" content="#ffffff">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="../../css/style.css">

<meta name="generator" content="Hexo 5.1.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="site-header-logo"></div>
  <div id="site-header-blog-wrapper"></div>
  <div id="header-outer" class="outer">
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        <div id="ms-logo"></div>
        
          <a class="main-nav-link" href="../../index.html">Home</a>
        
          <a class="main-nav-link" href="../../archives">Archives</a>
        
        <a class="main-nav-link" target="_blank" rel="noopener" href="https://cssjpn.github.io/">サポート情報</a>
        <a class="main-nav-link" href="/blog/general/welcome/">About</a>
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="../../blog/atom.xml" title="RSSフィード"></a>
        
      </nav>
      <div id="search-form-wrap">
        <form action="//www.bing.com/search" method="get" accept-charset="UTF-8" name="bing-search" onsubmit="var f=this;if(f['q'].value){var searchUrl =  'https://www.bing.com/search?q=' +  encodeURIComponent(f['q'].value + ' site:' + f['sitesearch'].value) ;window.open(searchUrl, 'blank') };return false;" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="検索"><button type="submit" id="nav-search-btn" class="search-form-submit"></button><input type="hidden" name="sitesearch" value="https://jpdscore.github.io/blog"></form>
      </div>
    </div>
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="../../index.html" id="logo">Japan Developer Support Core Team Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="../../index.html" id="subtitle">日本マイクロソフトの Japan Developer Support Core チームのブログです。</a>
        </h2>
      
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-azuredevops/deploy-webapp-to-azure" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header-single">
        
  
    <h1 class="article-title" itemprop="name">
      Azure App Service に色々な方法で WebApp をデプロイしてみよう！
    </h1>
  

      </header>
      <div class="article-share">
        Last Update: 
        <a href="" class="article-date-single">
  <time datetime="2020-09-29T12:46:00.000Z" itemprop="datePublished">2020-09-29</time>
</a>
        
        
        <a href="https://github.com/jpdscore/blog/issues/new?title=&body=%0A%0A---%0A%0A%23%23%23%23+Document+Details%0A%0A%E2%9A%A0+*Do+not+edit+this+section.%0A%0A*+ID%3A+ddf2403b-599c-5298-9684-7c8eaa182dd7%0A*+%E5%AF%BE%E8%B1%A1%E8%A8%98%E4%BA%8B%3A+%5BAzure+App+Service+%E3%81%AB%E8%89%B2%E3%80%85%E3%81%AA%E6%96%B9%E6%B3%95%E3%81%A7+WebApp+%E3%82%92%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4%E3%81%97%E3%81%A6%E3%81%BF%E3%82%88%E3%81%86%EF%BC%81%5D%28https%3A%2F%2Fjpdscore.github.io%2Fblog%2Fazuredevops%2Fdeploy-webapp-to-azure%2F%29" class="article-github-issue-link" target="_blank" rel="noopener noreferrer">feedback</a>
        
        <a data-url="https://jpdscore.github.io/blog/azuredevops/deploy-webapp-to-azure/" data-id="ckgw00tr6000m2gox26mb2t3u" class="article-share-link">共有</a>
      </div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>こんにちは、Japan Developer Support Core チームです。 </p>
<p>今日は、色々な方法でMicrosoft Azure (以降、Azure) のAzure App Service (以降、AppService) にWebアプリ (以降、WebApp) をデプロイして楽しんでみましょう。 </p>
<p>メジャーどころをピックアップしてみましたよ。 </p>
<p>選り取り見取りです。 </p>
<ol>
<li>Azure ポータルからデプロイする </li>
<li>ARM テンプレートを使ってデプロイする </li>
<li>予めビルドしておいたパッケージを PowerShell から手動でデプロイする </li>
<li>Visual Studio からビルドした WebApp を直接 App Service としてデプロイする </li>
<li>DevOps でビルドしたものを Azure Pipeline 経由でデプロイする </li>
</ol>
<h3 id="前提条件"><a href="#前提条件" class="headerlink" title="前提条件"></a>前提条件</h3><ul>
<li>アクティブなサブスクリプションが含まれる Azure アカウントをご用意ください。<a target="_blank" rel="noopener" href="https://azure.microsoft.com/free/dotnet/">無料でアカウントを作成できます。</a></li>
<li>このブログ記事では、Windows 上の App Service に ASP.NET Core Web アプリケーションをデプロイします。</li>
</ul>
<h3 id="1-Azure-ポータルからデプロイする"><a href="#1-Azure-ポータルからデプロイする" class="headerlink" title="1. Azure ポータルからデプロイする"></a>1. Azure ポータルからデプロイする</h3><p>Visua Studio がいらない世界です。 </p>
<p>検証の時など、とにかく何か AppService が動いてくれればいい時は、Azureポータルからササッと発行してしまいましょう。 </p>
<p>(1) <a target="_blank" rel="noopener" href="https://ms.portal.azure.com/">Azure ポータル</a> に Azure アカウントでサインインします。ホーム画面が表示されるので、[リソースの作成]をクリックします。[Marketplaceを検索]内に “Web アプリ” や ”webapp”、”appservice” 等のキーワードを入力して検索を行い、下図のタイルを選んでクリックします。<br><img src="1.png"></p>
<p>(2) 下図のページに遷移するので、[作成] ボタンをクリックします。<br><img src="2.png"></p>
<p>(3) 表示されるウィザードにしたがって、各種 App Service 用の設定を行います。<br><img src="3.png"><br><img src="4.png"><br><img src="5.png"></p>
<p>(4) 一通りの設定が終わると下図のページが表示されるので、[作成] ボタンをクリックします。<br><img src="6.png"></p>
<p>(5) 作成した App Service には、Azure 既定のソースコードをベースにビルドされた WebApp が展開されて、App Service としてデプロイが行われます。</p>
<p>(6) デプロイが完了すると、下図の画面が表示されます。[リソースに移動] をクリックして、デプロイされたばかりの App Service を見てみましょう。<br><img src="7.png"></p>
<p>(7) デプロイされたばかりの App Service の各種設定を確認できます。[URL] に表示されている URL から、App Service としてデプロイされた WebApp のホームページにアクセスすることができますよ。<br><img src="8.png"><br>デプロイされたばかりでAppServiceがまだ完全に起動していない場合は下図のようなページが表示されてしまいますが、コーヒーを一杯入れている間に大抵は起動されます。さて、腰を上げてキッチンへ行きましょう。<br><img src="9.png"></p>
<p>(8) コーヒーを入れて戻ってきたら、もう一度同じURLにアクセスしてみましょう。はい、出来上がりです。 </p>
<h3 id="2-ARMテンプレートを使ってデプロイする"><a href="#2-ARMテンプレートを使ってデプロイする" class="headerlink" title="2. ARMテンプレートを使ってデプロイする"></a>2. ARMテンプレートを使ってデプロイする</h3><p>Azure Resource Manager (以降、ARM) テンプレートをいじれば、App Service を手っ取り早く量産できます。 </p>
<p>検証用に AppService を沢山デプロイしたい時に便利ですよ。 </p>
<p>先ずは ARM テンプレートを作りましょう。 </p>
<p>(1) Azure ポータルに Azure アカウントでサインインします。ホーム画面が表示されるので、[リソース、サービス、ドキュメントの検索]内に“テンプレート”と入力して検索を行い、下図[テンプレート]を選んでクリックし、[テンプレートの作成]をクリックします。<br><img src="10.png"><br><img src="11.png"></p>
<p>(2) 表示されるウィザードに従って、各種 App Service 用のテンプレート設定を行います。<br><img src="12.png"></p>
<p>(3) 下図 [ARM テンプレート]で、いよいよ ARM テンプレート本体を実装することになります。簡単です、<a target="_blank" rel="noopener" href="https://github.com/Azure/azure-quickstart-templates">github から素敵な ARM テンプレートを探して</a>きて、コピー&amp;ペーストしてしまいましょう。以下は、季節を問わずシンプルで使いまわしの良い、お勧めの ARM テンプレートです。 </p>
<p>azure-quickstart-templates/101-webapp-basic-windows/azuredeploy.json<br><a target="_blank" rel="noopener" href="https://github.com/Azure/azure-quickstart-templates/blob/master/101-webapp-basic-windows/azuredeploy.json">https://github.com/Azure/azure-quickstart-templates/blob/master/101-webapp-basic-windows/azuredeploy.json</a><br><img src="13.png"></p>
<p>ペーストが終わったら[OK]ボタンをクリックして、下図[テンプレートの追加]で[追加]するのも忘れずに。<br><img src="14.png"></p>
<p>(4) テンプレートが追加できました。それでは、このテンプレートを使って App Service をデプロイしてみましょう。先ほど追加したテンプレートをクリックして開きます。 \<br><img src="15.png"></p>
<p>(5) [展開] ボタンをクリックします。<br><img src="16.png"></p>
<p>(6) 下図 [カスタムデプロイ]が開くのでお好みにあわせて入力し、[購入]をクリックすればデプロイ完了です。さあ、二杯目のコーヒーを入れに行きましょう。<br><img src="17.png"></p>
<h3 id="3-予めビルドしておいたパッケージを手動で発行する"><a href="#3-予めビルドしておいたパッケージを手動で発行する" class="headerlink" title="3. 予めビルドしておいたパッケージを手動で発行する"></a>3. 予めビルドしておいたパッケージを手動で発行する</h3><p>ビルド済みの WebApp のパッケージだけ手に入ったけど、さてどうしよう・・・ということ、季節の変わり目にはよくありますよね。そんな時のために、ZIP や WAR ファイル形式の WebApp のパッケージをそのまま App Service へデプロイする方法が用意されていますよ。 </p>
<blockquote>
<p>ZIP または WAR ファイルを使用した Azure App Service へのアプリのデプロイ<br><a target="_blank" rel="noopener" href="https://docs.microsoft.com/ja-jp/azure/app-service/deploy-zip">https://docs.microsoft.com/ja-jp/azure/app-service/deploy-zip</a> </p>
</blockquote>
<p>ZIP形式のパッケージの場合だけでも、様々な方法がありますよ。<br>一度試してみると楽しいのは、Kuduツールの力を拝借する方法です。 </p>
<blockquote>
<p>ZIP ファイルのデプロイ<br><a target="_blank" rel="noopener" href="https://docs.microsoft.com/ja-jp/azure/app-service/deploy-zip#deploy-zip-file">https://docs.microsoft.com/ja-jp/azure/app-service/deploy-zip#deploy-zip-file</a> </p>
</blockquote>
<p>ここでは、先にご紹介した「1. Azure ポータルからデプロイする」でデプロイした下記 URL の App Service を使いまわしてみましょう。 </p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://azureportaldefaultproject-webapp1.azurewebsites.net/">https://azureportaldefaultproject-webapp1.azurewebsites.net</a> </p>
</blockquote>
<p>(1) デプロイ先の App Service に用意されている Kudu ツールの ZipDeployUI を開きます。といっても難しいことは何もなくて、「.azurewebsites.net」のすぐ前に「<mark>.scm</mark>」を挿入し、末尾に「<mark>/ZipDeployUI</mark>」を追加したURLにアクセスするだけです。 </p>
<blockquote>
<p>ZipDeployUI の URL 形式 : https://&lt;app_name&gt;<mark>.scm</mark>.azurewebsites.net<mark>/ZipDeployUI</mark> </p>
<p>例 : https://azureportaldefaultproject-webapp1<mark>.scm</mark>.azurewebsites.net<mark>/ZipDeployUI</mark></p>
</blockquote>
<p>(2) WebアプリがパッケージングされているZIP ファイルをドラッグして ZipDeployUI 画面にホバーさせると、「Drop here to deploy your zip」と表示されるエリアがあるので、そこでドロップします。 </p>
<p>(3) 暫く待ち、ZipDeployUI のインジケーターが 100% になって消えたら、デプロイ完了です。 </p>
<p>他にも ZIP ファイル形式の方法を各種取り揃えております、お試しあれ。 </p>
<blockquote>
<p>Azure CLI を使って ZIP ファイルを展開する<br>&lt;<a target="_blank" rel="noopener" href="https://docs.microsoft.com/ja-jp/azure/app-service/deploy-zip#deploy-zip-file-with-azure-cli&gt;">https://docs.microsoft.com/ja-jp/azure/app-service/deploy-zip#deploy-zip-file-with-azure-cli&gt;</a> </p>
<p>REST API を使って ZIP ファイルを展開する<br>&lt;<a target="_blank" rel="noopener" href="https://docs.microsoft.com/ja-jp/azure/app-service/deploy-zip#deploy-zip-file-with-rest-apis&gt;">https://docs.microsoft.com/ja-jp/azure/app-service/deploy-zip#deploy-zip-file-with-rest-apis&gt;</a> </p>
<p>cURL を使用する<br>&lt;<a target="_blank" rel="noopener" href="https://docs.microsoft.com/ja-jp/azure/app-service/deploy-zip#with-curl&gt;">https://docs.microsoft.com/ja-jp/azure/app-service/deploy-zip#with-curl&gt;</a> </p>
<p>PowerShell の場合<br>&lt;<a target="_blank" rel="noopener" href="https://docs.microsoft.com/ja-jp/azure/app-service/deploy-zip#with-powershell&gt;">https://docs.microsoft.com/ja-jp/azure/app-service/deploy-zip#with-powershell&gt;</a> </p>
</blockquote>
<p>WARファイル形式の場合も、各種方法を取り揃えておりますよ。 </p>
<blockquote>
<p>WAR ファイルの展開<br>&lt;<a target="_blank" rel="noopener" href="https://docs.microsoft.com/ja-jp/azure/app-service/deploy-zip#deploy-war-file&gt;">https://docs.microsoft.com/ja-jp/azure/app-service/deploy-zip#deploy-war-file&gt;</a> </p>
</blockquote>
<h3 id="4-Visual-Studio-からビルドした-WebApp-を直接-App-Service-としてデプロイする"><a href="#4-Visual-Studio-からビルドした-WebApp-を直接-App-Service-としてデプロイする" class="headerlink" title="4. Visual Studio からビルドした WebApp を直接 App Service としてデプロイする"></a>4. Visual Studio からビルドした WebApp を直接 App Service としてデプロイする</h3><p>はい、ようやく登場しました Visual Studio です。 </p>
<p>Visual Studio使いの皆さんならこちらがポピュラーですよね。 </p>
<p>竹を割ったようにバッサリ説明すると、手順としては以下の2ステップです。 </p>
<p>(1) Visual Studioで WebApp を作ります。<br>(2) Visual Studioから [プロジェクトの発行] を選択し、作成した WebApp を公開ウィザードで App Service としてデプロイします。 </p>
<p>画像付きで、懇切丁寧に詳しく手順を説明してくれている Docs サイトが公開されていますのでご紹介します。 </p>
<blockquote>
<p>クイック スタート:Azure に ASP.NET Core Web アプリを作成する<br>&lt;<a target="_blank" rel="noopener" href="https://docs.microsoft.com/ja-jp/azure/app-service/quickstart-dotnetcore?pivots=platform-windows&gt;">https://docs.microsoft.com/ja-jp/azure/app-service/quickstart-dotnetcore?pivots=platform-windows&gt;</a> </p>
</blockquote>
<h3 id="5-DevOps-でビルドしたものを-Azure-Pipelines-経由で発行する"><a href="#5-DevOps-でビルドしたものを-Azure-Pipelines-経由で発行する" class="headerlink" title="5. DevOps でビルドしたものを Azure Pipelines 経由で発行する"></a>5. DevOps でビルドしたものを Azure Pipelines 経由で発行する</h3><p>はい、お待たせしました Azure DevOps (以降、DevOps) です。 </p>
<p>これもザックリ雑に説明すると、手順としては以下の 4 ステップです。 </p>
<p>(1) DevOps にプロジェクトを作成します。 </p>
<p>(2) Visual Studio で WebApp を作成します。 </p>
<p>(3) Visual Studio から DevOps のリポジトリ (以降、Repos) に対して、(1) で作成した WebApp のソースコードを push します。 </p>
<p>(4) Visual Studio からプロジェクトの [概要]を選択し、[公開] タブの [継続的デリバリー] から App Service に WebApp をデプロイします。 </p>
<p>流石に雑過ぎるので、もう少し細かく各ステップを見ていきましょう。 </p>
<p>(1)-1.個人用の Microsoft アカウント (以降、MSA) を一つ用意します。 </p>
<blockquote>
<p>新しい Microsoft アカウントを作成する方法<br>&lt;<a target="_blank" rel="noopener" href="https://support.microsoft.com/ja-jp/help/4026324/microsoft-account-how-to-create&gt;">https://support.microsoft.com/ja-jp/help/4026324/microsoft-account-how-to-create&gt;</a> </p>
</blockquote>
<p>(1)-2. 用意した MSA を使って、以下の URL から DevOps にサインインしましょう。 </p>
<blockquote>
<p>&lt;<a target="_blank" rel="noopener" href="https://azure.microsoft.com/services/devops/&gt;">https://azure.microsoft.com/services/devops/&gt;</a> </p>
</blockquote>
<p>(1)-3. 先ず DevOps 上に新しい組織を作成しましょう。DevOps のブレードから [New organization] を選択し、[Get started with Azure DevOps] と表示されたら [Continue] ボタンをクリックします。お好みの組織名 (下記例では「tomoshiOrg」) とエリアを設定したら、[Continue] ボタンをクリックします。<br><img src="20.png"></p>
<p>(1)-4.新しく組織を作成すると、新しくプロジェクトを作成するように求められます。お好みのプロジェクト名 (下記例では「VSCiCdProject-WebApp5-prj」) を設定したら、[Create project] ボタンをクリックします。<br><img src="21.png"></p>
<p>DevOps 上に新しい組織と、新しいプロジェクトが作成できました。<br><img src="22.png"></p>
<p>プロジェクトのブレードから [Repos] を選択すると、コードを追加してねと言わんばかりの下図の画面が開きます。早速、コードをこのReposに追加 (プッシュ) していくことにしましょう。<br><img src="23.png"></p>
<p>(2)-1. Visual Studio で新しい ASP.NET Core Web アプリケーションのプロジェクト (下記例では「VSCiCdProject-WebApp5」) を作成し、ビルドを通しましょう。<br><img src="18.png"><br><img src="19.png"></p>
<p>(3)-1. ソリューションエクスプローラーからプロジェクトを選択し、右クリックして表示されるポップアップから [概要] をクリックします。表示された画面から [公開] タブを選択し、[継続的デリバリー] の [設定] をクリックします。<br><img src="24.png"></p>
<p>(3)-2.下図 [Azure Pipelines のセットアップ] 画面が表示されますが、[このソリューションは Azure DevOps または Github でソース管理する必要があります。<font color="#11a0f2">今すぐソース管理に追加します。</font>] と警告されますので、[<font color="#11a0f2">今すぐソース管理に追加します。</font>] リンクをクリックします。<br><img src="25.png"></p>
<p>(3)-3. [チームエクスプローラー] の下図 [コードをバックアップし、共有します。Git サービスにコードを公開します]画面が表示されるので、[Azure DevOps Services へプッシュ] から [Git リポジトリを公開] をクリックします。<br><img src="26.png"></p>
<p>(3)-4.下 [Azure DevOps Services へプッシュ] が展開されますので、ソースコードのプッシュ先となる DevOps の組織・プロジェクト・リポジトリの情報を設定したら、[リポジトリの公開] をクリックします。<br><img src="27.png"></p>
<p>(3)-5.ソースコードのプッシュが完了すると、下図 [(Visual Studioのプロジェクト名)がプッシュされました。<font color="#11a0f2">Web でご確認ください。</font>] と青い文字で表示されますので、早速クリックして確認してみましょう。<br><img src="28.png"><br>プラウザ上で、先ほどは空っぽだった DevOps の Repos が開き、ソースコードがギッシリ追加 (プッシュ) されていることを確認できますね。<br><img src="29.png"></p>
<p>それでは、Visual Studio に戻りましょう。 </p>
<p>(4)-1. ソリューションエクスプローラーからもう一度プロジェクトを選択し、右クリックして表示されるポップアップから [概要] をクリックします。表示された画面から [公開] タブを選択し、[継続的デリバリー] の [設定] をクリックします。 </p>
<p>(4)-2. 下図 [Azure Pipelines のセットアップ] 画面が表示されるので、使用するブランチやサブスクリプションに間違いがないか確認しましょう。そして、デプロイ先となる App Service を選択するコンボボックスの右側に、小さく表示されている [<font color="#11a0f2">編集…</font>] をクリックします。<br><img src="30.png"></p>
<p>(4)-3. 下図 [App Service の編集] ポップアップ画面が開くので、デプロイ先となる App Service の各種設定を行ったら、[OK] をクリックします。<br><img src="31.png"></p>
<p>(4)-4. 下図 [Azure Pipelines のセットアップ] 画面に戻ったら、[OK] をクリックします。<br><img src="32.png"></p>
<p>(4)-5. それでは DevOps に戻って、プロジェクトのブレードから [Pipelines] の [Pipeines] を選択してみましょう。下図 [Recently run pipeines] から、CI プロセスにあたる Build パイプラインが追加されていることを確認できます。緑色のチェックマークが表示されているので、この Build パイプラインは成功しているようですね。<br><img src="33.png"></p>
<p>(4)-6. 続いて、プロジェクトのブレードから [Pipelines] の [Releases] を選択してみましょう。下図のように、CIプロセスにあたる Release パイプラインが追加されていることを確認できます。ここでも緑色のチェックマークが表示されているので、この Release パイプラインは成功しているようですね。<br><img src="34.png"></p>
<p>Azure ポータルからも、DevOps の Release パイプライン経由でデプロイされた AppService を確認できますよ。これで、Visual Studio から DevOps にプッシュしたソースコードを、DevOps の Build パイプラインがビルドを行い、そして DevOps の Release パイプラインが App Service へデプロイを行うところまで達成できました・・・おめでとうございます！<br><img src="35.png"></p>
<p>三杯目のコーヒーを入れなおしている間に、デプロイ完了した App Service が完全に起動したようです。ようこそ！<br><img src="36.png"></p>
<p>今回は、バラエティー豊かな App Service のデプロイ方法について、そのほんの一部をご紹介しました。次回は、DevOps を中心として他サービスと連携しながら App Service をデプロイしていく方法をご紹介したいと思っています。どうぞよろしくお願いします！ </p>

      
      
        <div class="article-disclaimer">
        
          <p><hr>本ブログの内容は弊社の公式見解として保証されるものではなく、開発・運用時の参考情報としてご活用いただくことを目的としています。もし公式な見解が必要な場合は、弊社ドキュメント (<a target="_blank" rel="noopener" href="https://docs.microsoft.com/">https://docs.microsoft.com</a> や <a target="_blank" rel="noopener" href="https://support.microsoft.com">https://support.microsoft.com</a>) をご参照いただくか、もしくは私共サポートまでお問い合わせください。</p>
        
        </div>
      
    </div>
    <footer class="article-footer">
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="../../tags/ALM/" rel="tag">ALM</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="../../tags/Azure-Pipelines/" rel="tag">Azure Pipelines</a></li></ul>

      <!-- 
      
        <a href="https://github.com/jpdscore/blog/edit/master/articles/azuredevops/deploy-webapp-to-azure.md" class="article-github-edit-link" target="_blank" rel="noopener noreferrer">GitHub で編集</a>
        
      -->
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="../use-repos-from-azuredevops/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">次の記事</strong>
      <div class="article-nav-title">
        
          Azure DevOps から Repos を利用してみよう (Azure Repos/GitHub)！
        
      </div>
    </a>
  
  
    <a href="../../deployment/fail-to-launch-clickonce-apps-after-updated/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">前の記事</strong>
      <div class="article-nav-title">ClickOnce アプリケーションのインストールや更新の後に発生する場合があるアプリケーション起動時のエラーについて</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最近の投稿</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="../use-repos-from-azuredevops/">Azure DevOps から Repos を利用してみよう (Azure Repos/GitHub)！</a>
          </li>
        
          <li>
            <a href="">Azure App Service に色々な方法で WebApp をデプロイしてみよう！</a>
          </li>
        
          <li>
            <a href="../../deployment/fail-to-launch-clickonce-apps-after-updated/">ClickOnce アプリケーションのインストールや更新の後に発生する場合があるアプリケーション起動時のエラーについて</a>
          </li>
        
          <li>
            <a href="../../dotnet/relationship-between-ndp-versions/">.NET Framework の各バージョン同士の関係</a>
          </li>
        
          <li>
            <a href="../../general/welcome/">Developer Support Core チームのブログへようこそ</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">タグ</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="../../tags/ALM/">ALM</a><span class="tag-list-count">2</span><ul><li class="tag-list-item tag-list-item-child-tag"><a class="tag-list-link tag-list-link-child" href="../../tags/ALM/Azure-Pipelines">Azure Pipelines</a><span class="tag-list-count">2</span></li><li class="tag-list-item tag-list-item-child-tag"><a class="tag-list-link tag-list-link-child" href="../../tags/ALM/Azure-Repos">Azure Repos</a><span class="tag-list-count">1</span></li><li class="tag-list-item tag-list-item-child-tag"><a class="tag-list-link tag-list-link-child" href="../../tags/ALM/GitHub">GitHub</a><span class="tag-list-count">1</span></li></ul></li><li class="tag-list-item"><a class="tag-list-link" href="../../tags/Deployment/">Deployment</a><span class="tag-list-count">1</span><ul><li class="tag-list-item tag-list-item-child-tag"><a class="tag-list-link tag-list-link-child" href="../../tags/Deployment/ClickOnce">ClickOnce</a><span class="tag-list-count">1</span></li></ul></li><li class="tag-list-item"><a class="tag-list-link" href="../../tags/NET/">.NET</a><span class="tag-list-count">1</span><ul><li class="tag-list-item tag-list-item-child-tag"><a class="tag-list-link tag-list-link-child" href="../../tags/NET/NET-Framework">.NET Framework</a><span class="tag-list-count">1</span></li></ul></li><li class="tag-list-item"><a class="tag-list-link" href="../../tags/%E5%85%A8%E8%88%AC/">全般</a><span class="tag-list-count">1</span><ul></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">アーカイブ</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="../../archives/2020/10/">2020 / 10</a></li><li class="archive-list-item"><a class="archive-list-link" href="../../archives/2020/09/">2020 / 09</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">タグクラウド</h3>
    <div class="widget tagcloud">
      <a href="../../tags/NET/" style="font-size: 10px;">.NET</a> <a href="../../tags/NET-Framework/" style="font-size: 10px;">.NET Framework</a> <a href="../../tags/ALM/" style="font-size: 20px;">ALM</a> <a href="../../tags/Azure-Pipelines/" style="font-size: 20px;">Azure Pipelines</a> <a href="../../tags/Azure-Repos/" style="font-size: 10px;">Azure Repos</a> <a href="../../tags/ClickOnce/" style="font-size: 10px;">ClickOnce</a> <a href="../../tags/Deployment/" style="font-size: 10px;">Deployment</a> <a href="../../tags/GitHub/" style="font-size: 10px;">GitHub</a> <a href="../../tags/%E5%85%A8%E8%88%AC/" style="font-size: 10px;">全般</a>
    </div>
  </div>

  
    <div class="widget-wrap">
  <h3 class="widget-title">旧ブログ/フォーラム</h3>
  <div class="widget">
    <ul>
      
        <li>
          <a href="../../https:/social.msdn.microsoft.com/Forums/ja-jp/home?forum=visualstudiosupportteamja">Visual Studio サポートチーム フォーラム</a>
        </li>
      
        <li>
          <a href="../../https:/social.msdn.microsoft.com/Forums/ja-jp/home?forum=windowssdksupportteamja&filter=alltypes&sort=lastpostdesc">Windows SDK サポートチーム フォーラム</a>
        </li>
      
        <li>
          <a href="../../https:/docs.microsoft.com/en-us/archive/blogs/jpvsblog/">Visual Studio サポート チーム blog</a>
        </li>
      
        <li>
          <a href="../../https:/docs.microsoft.com/en-us/archive/blogs/japan_platform_sdkwindows_sdk_support_team_blog/">JAPAN Platform SDK（Windows SDK） Support Team Blog</a>
        </li>
      
    </ul>
  </div>
</div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Developer Support Core Japan<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="../../index.html" class="mobile-nav-link">Home</a>
  
    <a href="../../archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


<script src="../../js/script.js"></script>




  </div>
</body>
</html>